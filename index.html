<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>청소 배치 시스템</title>
    <style>
      body {
        font-family: "Malgun Gothic", sans-serif;
        max-width: 800px;
        margin: 0 auto;
        padding: 20px;
      }
      h1 {
        text-align: center;
        color: #333;
        margin-bottom: 30px;
      }
      .controls {
        margin: 20px 0;
        display: flex;
        justify-content: center;
        gap: 10px;
      }
      button {
        padding: 10px 20px;
        background-color: #4caf50;
        color: white;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        font-size: 16px;
      }
      button:hover {
        background-color: #45a049;
      }
      .names-list {
        display: flex;
        flex-wrap: wrap;
        gap: 10px;
        margin-bottom: 20px;
      }
      .name-item {
        background-color: #e9e9e9;
        padding: 5px 10px;
        border-radius: 4px;
      }
      .cleaning-table {
        width: 100%;
        border-collapse: collapse;
        margin-top: 20px;
        text-align: center;
      }
      .cleaning-table th,
      .cleaning-table td {
        border: 1px solid #000;
        padding: 8px;
      }
      .section-header {
        background-color: #e0e0e0;
        font-weight: bold;
      }
      .class-header {
        font-weight: bold;
        font-size: 1.2em;
        padding: 10px;
      }
      .footnote {
        margin-top: 10px;
        font-size: 0.9em;
        color: #555;
      }
    </style>
  </head>
  <body>
    <h1>청소 배치 시스템</h1>

    <div class="names-list" id="namesList"></div>

    <div class="controls">
      <button id="assignBtn">랜덤 배치하기</button>
      <button id="resetBtn">초기화</button>
    </div>

    <table class="cleaning-table" id="cleaningTable">
      <tr>
        <th colspan="2" class="class-header">3-3 청소구역</th>
      </tr>
      <tr>
        <td colspan="2" class="section-header">외부(5명)</td>
      </tr>
      <!-- 도서관 대걸레 제거됨 -->
      <tr>
        <td width="40%">도서관 쓸기(3)</td>
        <td width="60%" id="area1"></td>
      </tr>
      <tr>
        <td>세미나실(2)</td>
        <td id="area2"></td>
      </tr>
      <tr>
        <td colspan="2" class="section-header">내부(26명)</td>
      </tr>
      <tr>
        <td>1분단 책상 끌기(2)</td>
        <td id="area3"></td>
      </tr>
      <tr>
        <td>2분단 책상 끌기(2)</td>
        <td id="area4"></td>
      </tr>
      <tr>
        <td>3분단 책상 끌기(2)</td>
        <td id="area5"></td>
      </tr>
      <tr>
        <td>4분단 책상 끌기(2)</td>
        <td id="area6"></td>
      </tr>
      <tr>
        <td>5분단 책상 끌기(2)</td>
        <td id="area7"></td>
      </tr>
      <tr>
        <td>교실 쓸기(5)</td>
        <td id="area8"></td>
      </tr>
      <tr>
        <td>교실 대걸레(4)</td>
        <td id="area9"></td>
      </tr>
      <tr>
        <td>분리수거(5)</td>
        <td id="area10"></td>
      </tr>
      <tr>
        <td>칠판, 교탁(1)</td>
        <td id="area11"></td>
      </tr>
      <tr>
        <td>교실 전선 정리,<br />사물함 위 정리(1)</td>
        <td id="area12"></td>
      </tr>
    </table>

    <p class="footnote">※ 기록부장은 청소 열외-이재영</p>

    <script>
      // 이름 목록
      const names = [
        "김민서",
        "김서은",
        "강민상",
        "강수연",
        "구본찬",
        "김도윤",
        "김민재",
        "김병규",
        "김승원",
        "김진호",
        "문석호",
        "박연진",
        "박종윤",
        "손기령",
        "송민서",
        "유현진",
        "윤예진",
        "이준성",
        "이준행",
        "조성민",
        "천선우",
        "최진호",
        "박준성",
        "서여원",
        "손희창",
        "장건희",
        "전상훈",
        "이정현",
        "노재원",
        "박동주",
        "한교빈",
      ];

      // 청소 구역과 필요 인원 (도서관 대걸레 제거, n분단 책상 2명으로 변경)
      const areas = [
        { name: "도서관 쓸기", count: 3, id: "area1" },
        { name: "세미나실", count: 2, id: "area2" },
        { name: "1분단 책상", count: 2, id: "area3" },
        { name: "2분단 책상", count: 2, id: "area4" },
        { name: "3분단 책상", count: 2, id: "area5" },
        { name: "4분단 책상", count: 2, id: "area6" },
        { name: "5분단 책상", count: 2, id: "area7" },
        { name: "교실 쓸기", count: 5, id: "area8" },
        { name: "교실 대걸레", count: 4, id: "area9" },
        { name: "분리수거", count: 5, id: "area10" },
        { name: "칠판, 교탁", count: 1, id: "area11" },
        { name: "교실 전선,사물함 위 정리", count: 1, id: "area12" },
      ];

      function displayNames() {
        const namesListDiv = document.getElementById("namesList");
        namesListDiv.innerHTML = "";
        names.forEach((name) => {
          const nameItem = document.createElement("div");
          nameItem.className = "name-item";
          nameItem.textContent = name;
          namesListDiv.appendChild(nameItem);
        });
      }

      function assignRandomly() {
        areas.forEach((area) => {
          document.getElementById(area.id).textContent = "";
        });

        const shuffledNames = [...names];
        for (let i = shuffledNames.length - 1; i > 0; i--) {
          const j = Math.floor(Math.random() * (i + 1));
          [shuffledNames[i], shuffledNames[j]] = [
            shuffledNames[j],
            shuffledNames[i],
          ];
        }

        let nameIndex = 0;
        areas.forEach((area) => {
          if (nameIndex < shuffledNames.length) {
            const areaNames = shuffledNames.slice(
              nameIndex,
              nameIndex + area.count
            );
            nameIndex += area.count;
            document.getElementById(area.id).textContent = areaNames.join(", ");
          }
        });
      }

      function resetAssignments() {
        areas.forEach((area) => {
          document.getElementById(area.id).textContent = "";
        });
      }

      document
        .getElementById("assignBtn")
        .addEventListener("click", assignRandomly);
      document
        .getElementById("resetBtn")
        .addEventListener("click", resetAssignments);

      displayNames();
    </script>
  </body>
</html>
